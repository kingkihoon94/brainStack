# 테스트 용이성을 높이기 위한 조건과 코드 개선의 필요성

## 1. 순수 함수는 테스트하기 용이하다

- **정의**: 동일한 입력에 대해 항상 동일한 출력을 반환하며, 부수 효과(side effect)가 없는 함수
- **이점**:
  - 외부 상태나 환경에 의존하지 않음
  - 테스트 결과가 일관됨
- **예시 (비순수 함수)**:
  - 외부 상태를 읽거나 변경
  - API 호출
  - DOM 조작
- **예시 (순수 함수)**:
  - 입력값을 기반으로 계산만 수행 후 결과 반환

## 2. 단일 책임 원칙(SRP)을 따르는 코드가 테스트하기 용이하다

- **정의**: 하나의 함수나 모듈은 하나의 역할만 수행해야 한다
- **이점**:
  - 테스트 범위가 명확함
  - 테스트 코드 작성이 간결해짐
  - 실패 시 원인 추적이 쉬움
- **예시 (SRP 위반)**:
  - 데이터 요청과 UI 렌더링을 하나의 함수에서 수행
- **해결 방안**:
  - 역할을 분리하여 독립적인 테스트가 가능하도록 설계

## 3. 예측하기 쉬운 코드가 테스트하기 용이하다

- **특징**:
  - 변수명, 함수명이 명확함
  - 일관된 코드 스타일 유지
  - 복잡한 로직 없이 읽기 쉬운 구조
- **이점**:
  - 코드 이해도가 높아짐
  - 테스트 작성이 자연스러워짐

---

## 테스트를 위한 코드 수정, 괜찮을까?

- **지양해야 할 사례**:
  - 테스트를 위해 `private` 메서드를 `public`으로 변경
  - 테스트만을 위한 코드 삽입
- **이유**:
  - 코드의 캡슐화를 해침
  - 유지보수성 저하

---

## 테스트가 어렵다는 것은 신호일 수 있다

- 테스트가 어려운 코드의 특징:
  - 역할이 명확하지 않음
  - 의존성이 강하게 결합되어 있음
  - 부작용이 많은 함수

> ✅ **이럴 땐 테스트를 쉽게 만들기 위한 코드 리팩토링이 바람직합니다.**
> - 테스트 용이성을 높이면서 코드 품질도 함께 향상될 수 있습니다.

---

