# npm install vs npm ci 차이점

`npm install`과 `npm ci`는 모두 Node.js 프로젝트의 의존성 패키지를 설치하는 명령어입니다. 그러나 **동작 방식과 목적에서 중요한 차이점**이 존재합니다.

---

## ✅ 요약

| 항목 | `npm install` | `npm ci` |
|------|----------------|-----------|
| 의존성 버전 처리 | `package.json`의 버전 범위에 따라 유연하게 설치 | `package-lock.json`에 명시된 **정확한 버전**만 설치 |
| `package-lock.json` 처리 | 변경될 수 있음 | **절대 변경되지 않음** |
| `node_modules` 처리 | 기존 폴더 유지 | 항상 **삭제 후 재설치** |
| 설치 속도 | 상대적으로 느림 | **빠름 (불필요한 연산 없음)** |
| 사용 환경 | 로컬 개발 환경 | **CI/CD 환경에 최적화** |

---

## 🔍 차이점 상세 설명

### 1. 버전 엄격성

- `npm install`:  
  - `package.json`의 **버전 범위**(`^`, `~`) 내에서 의존성을 설치함  
  - 결과적으로 매 실행 시 설치되는 버전이 다를 수 있음

- `npm ci`:  
  - `package-lock.json`에 명시된 **정확한 버전만 설치**  
  - 항상 **일관된 결과 보장**

---

### 2. package-lock.json 변경 여부

- `npm install`:  
  - 설치 과정에서 lock 파일이 업데이트될 수 있음

- `npm ci`:  
  - lock 파일은 **절대 변경되지 않음**

---

### 3. 설치 방식

- `npm install`:  
  - 기존의 `node_modules` 폴더 유지

- `npm ci`:  
  - 기존 `node_modules` 폴더를 **삭제 후 재설치**

---

## 🛠️ 언제 사용할까?

### ✅ CI/CD 환경
- **npm ci 권장**
- 설치 속도가 빠르고, 결과가 **일관되며 재현 가능**
- 예기치 않은 버전 변경 방지

### ✅ 로컬 개발 환경
- 일반적으로는 `npm install` 사용
- 하지만 팀 내에서 **버전 일관성이 중요**할 경우 `npm ci` 사용 고려 가능
- 단점: 매번 전체 재설치 → **시간 소요**

---

## 💡 참고

> `npm ci`는 `package-lock.json` 파일이 존재하지 않으면 실행할 수 없습니다.